from flask import Flask, request, jsonify
app = Flask(__name__)
PROMPT = {{ prompt|tojson }}

@app.post('/act')
def act():
    data = request.get_json(force=True)
    text = data.get('text','')
    return jsonify({"agent": "{{ agent_name }}", "prompt": PROMPT, "echo": text})

@app.get('/')
def home():
    return "agent {{ agent_name }} ready"

if __name__ == "__main__":
    app.run(host="0.0.0.0", port=8080)